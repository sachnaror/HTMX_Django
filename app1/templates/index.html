<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Main page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://unpkg.com/htmx.org@1.9.7"></script>
</head>
<body hx-headers='{"X-CSRFToken": "{{csrf_token}}"}'>

<div class="container">
    <h1>Todos</h1>

    <div id="todo-forms">
        {% include "todo_form.html" %}
    </div>

    <div class="my-4">
        <button
                type="button"
                class="btn btn-success"
                hx-get="{% url 'create_todo' %}"
                hx-target="#todo-forms"
                hx-swap="beforeend"
        >Add Todo
        </button>

        <button type="button" class="btn btn-primary" id="submit-all">Submit all</button>
    </div>

    <ul id="todo-list">
        {% for todo in todos %}
        {% include "todo_partial.html" %}
        {% endfor %}
    </ul>
</div>

</body>
</html>
